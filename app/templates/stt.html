  {% from "bootstrap5/form.html" import render_form %}
  {% block content %}
  {% include "header.html" %}

  <!-- Page Header -->
  <header
    class="masthead"
    style="background-image: url('static/assets/img/stt-bg.jpeg')"
  >
    <div class="container position-relative px-4 px-lg-5">
      <div class="row gx-4 gx-lg-5 justify-content-center">
        <div class="col-md-10 col-lg-8 col-xl-7">
          <div class="bobbing-container">
            <div class="wave-container" >
          <div class="page-heading">
            <h1>Speech To Text</h1>
            <div class="animation-container">
              <!-- SVG for microphone -->
              <div class="mic">
                <svg width="40" height="40" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M12 2C10.35 2 9 3.35 9 5V11C9 12.65 10.35 14 12 14C13.65 14 15 12.65 15 11V5C15 3.35 13.65 2 12 2ZM6 11C6 14.26 8.11 16.95 11 17.72V21H8V23H16V21H13V17.72C15.89 16.95 18 14.26 18 11H16C16 13.76 13.76 16 11 16C8.24 16 6 13.76 6 11H4Z" fill="#4CAF50"/>
                </svg>
              </div>
              <div class="circle circle1"></div>
              <div class="circle circle2"></div>
              <div class="circle circle3"></div>
            </div>
            <span  class="subheading">Convert your speech to text using voice commands.</span>
          </div>


        </div>
          </div>
      </div>
    </div>
    </div>
  </header>

  <main class="container my-5">

    <div class="text-center mt-3">
      <h4>Select Dialect</h4>
      <select id="accent-select" class="form-select form-select-sm" style="max-width: 200px; margin: 0 auto;">
        <option value="en-US">American English</option>
        <option value="en-UK">British English</option>
        <option value="en-AU">Australian English</option>
        <option value="en-UR">Urdu-English</option>
      </select>
    </div>
    <div class="text-center mt-3">
  <h4>Select Transcription Approach</h4>
  <select id="approach-select" class="form-select form-select-sm" style="max-width: 200px; margin: 0 auto;">
    <option value="whisper">Whisper (Local)</option>
    <option value="sr">SpeechRecognition</option>
  </select>
</div>
    <!-- Control Section -->
    <div class="text-center">
      <div class="btn-group" role="group" aria-label="Recording Controls">
        <button id="start-btn" class="btn btn-outline-primary me-2">
          <i class="fas fa-microphone"></i> Start Recording
        </button>
        <button id="pause-btn" class="btn btn-outline-warning me-2" disabled>
          <i class="fas fa-pause"></i> Pause Recording
        </button>
        <button id="resume-btn" class="btn btn-outline-success me-2" disabled>
          <i class="fas fa-play"></i> Resume Recording
        </button>
        <button id="stop-btn" class="btn btn-outline-danger" disabled>
          <i class="fas fa-stop"></i> Stop Recording
        </button>
      </div>
    </div>

    <!-- Upload Section -->
    <div class="text-center mt-5">
      <h2>Upload Audio File</h2>
      <form class="d-inline-flex justify-content-center align-items-center">
        <input type="file" id="file-input" accept="audio/*" class="form-control form-control-sm me-2" style="max-width: 300px;">
        <button id="upload-btn" class="btn btn-outline-info btn-sm">
          <i class="fas fa-upload"></i> Upload Audio
        </button>
      </form>
    </div>

    <!-- Toast Container -->

    <div id="toast-container" aria-live="polite" aria-atomic="true" class="position-fixed top-0 end-0 p-3">
      <div id="toast" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
        <div class="toast-header">
          <strong class="me-auto">Notification</strong>
          <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
        </div>
        <div id="toast-body" class="toast-body">
          Your message will appear here.
        </div>
      </div>
    </div>

    <div id="loading-spinner" class="text-center mt-3 d-none">
      <div class="spinner-border text-primary" role="status">
        <span class="visually-hidden">Processing...</span>
      </div>
      <p>Processing audio, please wait...</p>
    </div>

    <!-- Transcription Display -->
    <div class="text-center mt-5">
      <h3>Transcription</h3>
      <div id="transcription" >
        <p>Your speech transcription will appear here.</p>
      </div>
      <button id="copy-btn" class="btn btn-outline-secondary mt-2" onclick="copyToClipboard()">
        <i class="fas fa-copy"></i> Copy Text
      </button>
    </div>
  </main>

  {% include "footer.html" %}
  {% endblock %}
